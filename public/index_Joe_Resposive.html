<!DOCTYPE html>
<!--@version $Id: CustomPlacemark.html 3320 2015-07-15 20:53:05Z dcollins $-->
<html lang="en">

<head>
    <!--NOTE: Most Web World Wind examples use jquery, Bootstrap and requirejs but those technologies are NOT-->
    <!--required by Web World Wind. See SimplestExample.html for an example of using Web World Wind without them.-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/SPM_icon.ico">
    <title>Smart Pollen Monitoring II</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.js" type="text/javascript">
    </script>
    <!--<script src="src/WorldWind.js"></script>-->
    <script src="LayerManager.js"></script>
    <script src="http://worldwindserver.net/webworldwind/worldwindlib.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/tooltipster-sideTip-borderless.min.css" />
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="javascripts/tooltipster.bundle.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <!--<script data-main="CustomPlacemark" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.17/require.min.js"></script>-->
    <script src="javascripts/spreadout.js"></script>
    <!--Data display-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" href="stylesheets/prettify.css" type="text/css">
    <script src="javascripts/select_joe.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            window.prettyPrint() && prettyPrint();
        });
    </script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="stylesheets/bootstrap-multiselect.css" type="text/css">
    <script type="text/javascript" src="javascripts/bootstrap-multiselect.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAr2UC0yoJCAAMXXxcvuFpEnzJZt_Ubsn4&libraries=places&callback=initAutocomplete" async defer></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/style.css">
    <!--
    <link rel="stylesheet" type="text/css" href="stylesheets/default.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/component.css" />
    TESTTESTTESTTEST-->
    <script type="text/javascript" src="javascripts/navigation.js"></script>
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <!-- New Branding Left-->

                </button>
                <!-- <a class="navbar-brand" onclick="TreeStat()"></a> -->
                <!-- Branding Old -->
                <!-- <a class="navbar-brand" >
                    <strong>Smart Pollen Monitoring</strong>
                </a> -->
                <!-- <a class="navbar-brand">
                    <img src="images/SPMBrand/logonew.png" alt="SmartPollenMonitoring">
                </a> -->
            </div>
            <!-- New Branding on the left (optional1) -->
            <div class="brand-left">
                <a class="navbar-brand">
                    <img style="margin-right: 10px; padding: 0;" src="images/SPMBrand/logo w name 5.png">
                </a>
            </div>

            <!-- New Branding in the middle (optional2) -->
            <!-- <div class="brand-centered">
                <a class="navbar-brand"><img style="margin-right: 10px; padding: 0;" src="images/SPMBrand/logonew_Short.png">
                </a> </div>-->

        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

            <!-- <div class="btn-group test tooltipstuff" titel="Here you can select if you want to see Historic Wind Data or recent Wind Data">
                    <select id="recentold-order">
                        <option value="2">Recent Data</option>
                        <option value="1">Historic Data</option>

                    </select>

                </div> -->
            <!-- <div class="btn-group tooltipstuff" id="month" title="Here you can select which month interests you.">
                    <select id="example-order">
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                    <button id="example-order-button" class="btn btn-success">Apply Month</button>
                </div> -->



            <!-- <div class="btn-group tooltipstuff" id="treeres" title="Here you can select which types of Trees interest you.">
                    <span class="input-group-btn">
                        <select id="tree-order" multiple="multiple">
                            <optgroup label="High allergenic">
                                <option class="Birke" value="25">Alder</option>
                                <option class="Erle" value="23">Birch</option>
                                <option class="Hasel" value="20">Hazel</option>
                            </optgroup>
                            <optgroup label="Low allergenic">
                                <option value="3">Ailanthus</option>
                                <option value="27">Apple</option>
                                <option value="24">Ash</option>
                                <option value="2">Beech</option>
                                <option value="17">Buchs</option>
                                <option value="10">Cherry</option>
                                <option value="30">Chestnut</option>
                                <option value="6">Cedar</option>
                                <option value="18">Cypress</option>
                                <option value="14">Elder</option>
                                <option value="26">Elm</option>
                                <option value="12">Fir</option>
                                <option value="28">Yew</option>
                                <option value="29">Lilac</option>
                                <option value="13">Linden</option>
                                <option value="4">Maple</option>
                                <option value="22">Oak</option>
                                <option value="9">Pasture</option>
                                <option value="5">Pear</option>
                                <option value="16">Pine</option>
                                <option value="1">Plum</option>
                                <option value="15">Robinie</option>
                                <option value="21">Schnur</option>
                                <option value="7">Sleeping-Tree</option>
                                <option value="8">Walnut</option>
                            </optgroup>
                            <optgroup label="other">
                                <option value="11">other</option>
                            </optgroup>

                        </select>
                        <button id="tree-order-button" class="btn btn-success">
                            Apply Tree(s)
                        </button>

                    </span>
                </div> -->
            <!-- <ul class="nav navbar-nav">

                    left Menu

                </ul> -->
            <ul class="nav navbar-nav navbar-right">
                <li onclick="Info()" title="help">
                    <a href="#">
                        <span class="glyphicon glyphicon-question-sign"></span> Tutorial
                    </a>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <span class="glyphicon glyphicon-plus" class="caret"></span> Add Tree</a>
                    <ul class="dropdown-menu">
                        <li onclick="openDialog()">
                            <a href="#">Singel Tree</a>
                        </li>
                        <li onclick="csvUpload()">
                            <a href="#">Multiple Trees (CSV upload)</a>
                        </li>
                    </ul>
                </li>
                <li id="pollenSim" onclick="pollenClick()" title="Add tree to database">
                    <a href="#">
                        <span class="glyphicon glyphicon-tree-deciduous"></span> Pollen Simulation </a>
                </li>
                <!-- Prepared for Navigation menu to be added -->
                <li id="pollenSim" onclick="navClick()" title="Show navigation menu">
                    <a href="#">
                        <span class="glyphicon glyphicon-map-marker"></span> Navigation </a>
                </li>
                <li id="showStat" title="With a click here you can open the statistic again">
                    <a href="#">
                        <span class="glyphicon glyphicon-stats"></span> Show Statistic </a>
                </li>
                <li id="clear-button" onclick="Clearall()" title="With a click here you can clear your tree selection">
                    <a href="#">
                        <span class="glyphicon glyphicon-remove"></span> Clear Map </a>
                </li>
            </ul>
        </div>



        </div>

    </nav>
    <div class="backdrop" id="navMenu" style="display: none;">
        <h2>
            <span style="color:azure">Navigation</span>
            <span style="color:crimson">Menu</span>
        </h2>
        
        <h4>Path</h4>
        select mode :
        <button class="myButtonBlue" type="button" onclick="toggleText()" id="bike">bike</button>
        <div class="input-group" id="searchBox1">
            <input type="text" class="form-control" placeholder="Starting Point" id="searchTextStart" />
        </div>
        <div class="input-group" id="searchBox2">
            <input type="text" class="form-control" placeholder="Ending Point" id="searchTextEnd" />
            <span class="input-group-btn">
                <button id="searchButton" onclick="StartNav()" class="btn btn-primary" type="button">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </span>
        </div>
        <div class="input-group" id="searchBox3">
            <input id="pac-input" class="controls" type="text" placeholder="Search Box">
            <div id="map" style="display: none;"></div>
        </div>
        <button class="myButtonRed" type="button" onclick="removeNav()">remove navigation layer</button><br>
        <button class="myButtonRed" type="button" onclick="navClick()">close window</button>
    </div>
    <div class="backdrop" id="pollenMenu" style="display: none;">
        <h4>
            <span style="color:azure">Pollen</span>
            <span style="color:crimson">Simulation</span>
        </h4><br>
        <!-- <h4 style="font-size:1vw">Select Month</h4> -->
        Real-time/ Historic
        <select class="selectpicker" id="recentold-order" data-width="150px">
            <option value="2">Recent Data</option>
            <option value="1">Historic Data</option>
        </select>
        <br>
        <div id="monthSelector" style="display: none;">


            Select Month
            <select class="selectpicker" id="month" data-width="150px" data-show-tick="true" style="display: none;">
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option selected="selected" value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
        </div>

        <!-- <button id="example-order-button1" class="btn btn-success" >Apply Month</button> -->

        Select Tree-type
        <select id="tree-order" class="selectpicker" multiple data-live-search="true" data-width="100%" multiple title="Choose types of tree/ Type for search"
            data-dropup-auto="false">
            <optgroup label="High allergenic">
                <option class="Birke" value="25">Alder</option>
                <option class="Erle" value="23">Birch</option>
                <option class="Hasel" value="20">Hazel</option>
            </optgroup>
            <optgroup label="Low allergenic">
                <option value="3">Ailanthus</option>
                <option value="27">Apple</option>
                <option value="24">Ash</option>
                <option value="2">Beech</option>
                <option value="17">Buchs</option>
                <option value="10">Cherry</option>
                <option value="30">Chestnut</option>
                <option value="6">Cedar</option>
                <option value="18">Cypress</option>
                <option value="14">Elder</option>
                <option value="26">Elm</option>
                <option value="12">Fir</option>
                <option value="28">Yew</option>
                <option value="29">Lilac</option>
                <option value="13">Linden</option>
                <option value="4">Maple</option>
                <option value="22">Oak</option>
                <option value="9">Pasture</option>
                <option value="5">Pear</option>
                <option value="16">Pine</option>
                <option value="1">Plum</option>
                <option value="15">Robinie</option>
                <option value="21">Schnur</option>
                <option value="7">Sleeping-Tree</option>
                <option value="8">Walnut</option>
            </optgroup>
            <optgroup label="other">
                <option value="11">other</option>
            </optgroup>

        </select>

        <br>

        <button id="tree-order-button" class="myButtonGreen" type="button">Confirm Selection</button>
        <button class="myButtonRed" type="button" onclick="pollenClick()">close</button>
        <br>
        <h4>Lable Options:</h4>
        <button class="myButtonBlue" type="button" onclick="showLabel()">show label</button>
        <button class="myButtonRed" type="button" onclick="hideLabel()">hide label</button>

        <br>


    </div>

    <div id="dialog_addTree" title="Add custom tree">
    </div>
    <div id="Info" title="Info">
        <h4>
            <b>Basic Info</b>
        </h4>
        <p>
            <b>Step.1</b> The element
            <img src="images/help1.png" alt="help1" style="width:100px;height:20px;"> or
            <img src="images/help2.png" alt="help2" style="width:100px;height:20px;"> you find on the top bar allows you to choose between
            <b>recent</b> and
            <b>historic </b>data.
            <br />
            <br />

            <b>Step.2</b> On the next element, If you select historic data on step 1, you will be able to choose also the specific
            month. Please, make selection of a month and confirm the selection with the green button.
            <br />
            <img src="images/help32.png" alt="help32">
            <br /> Then, please make selection of tree types you are interested to and confirm the selection with the green button.
            <br />
            <img src="images/help31.png" alt="help31">
            <br />
            <br />

            <b>Step.3</b> Then, the pollen statistical information window will pop up.
            <br />
            <img src="images/help41.png" alt="help41">
            <br /> It describes all the pollen dispersals for each month. You can click somewhere on the map area to close this
            window. The statistic window can always be called back with the yellow "Show statistic" button
            <br />
            <br />
            <b>Step.4</b> Then, every time you click on the map, the view will be zoomed in and the analyzed pollen dispersal
            area of your selection will be loaded.
            <br />
            <img src="images/help50.png" alt="help50">
            <br />
            <br />
        </p>
        <h4>
            <b>Add Tree</b>
        </h4>
        <p>You can help expanding the application database by adding more trees. To do this, click on the
            <img src="images/plus.png" alt="help4" style="width:20px;height:20px;"> button.
            <br/> A pop-up window will be opened and allows you to add a tree information. To get the coordinates, you can just
            click at the specific point in the map.</p>
        <h4>
            <b>Clear Map</b>
        </h4>
        <p>A click on
            <img src="images/help6.png" alt="help6" style="width:46px;height:20px;"> will clear the map and your previous selection. You have to apply new selection to display pollen analysis again.</p>
        <h4>
            <b>Statistic</b>
        </h4>
        <p>The Statistic will automatically display after the tree selection, or when you click this
            <img src="images/help5.png" alt="help5" style="width:59px;height:20px;"> button. The Statistic shows you in which month your selected Trees are blooming.</p>
    </div>
    <div class="col-sm-9" id="globe">
        <canvas id="canvasOne">
            Your browser does not support HTML5 Canvas.
        </canvas>
    </div>
    <!-- The Modal -->
    <div id="myModal" class="modal" style="background-color:rgba(51,51,51,0.7)">

        <!-- Modal content -->
        <div class="modal-content" style="background-color:rgba(51,51,51,0.7);">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Tree Statistic</h2>
            </div>
            <div class="modal-body" background="transparent">
                <svg width="1260" height="500"></svg>
                <script>
                </script>
                <!--<p>Some text in the Modal Body</p>
                <p>Some other text...</p>-->
            </div>
            <div class="modal-footer">
                <h4>This graph shows tree pollen dispersals by tree type in each month. </h4>
            </div>
        </div>

    </div>

    <script>
        // hide Responsive menu after click!! 
        $(function () {
            $('.nav a').on('click', function () {
                if ($('.navbar-toggle').css('display') != 'none') {
                    $('.navbar-toggle').trigger("click");
                }
            });
        });
        var pollenClick = function () {
            if (pollenMenu.style.display === 'none') {
                pollenMenu.style.display = "block";
            }
            else {
                pollenMenu.style.display = "none";
            }

        };
        var navClick = function () {
            if (navMenu.style.display === 'none') {
                navMenu.style.display = "block";
            }
            else {
                navMenu.style.display = "none";
            }

        };
        var csvUpload = function () {
            alert("Coming Soon, Dude!");
        }
    </script>

    <!--</div>-->

    <!--<div>

            <button onclick="test()">post wind</button>
            <button onclick="getTrees()">get trees</button>
        </div>-->
        <script src="javascripts/GoogleAutoPlaceComplete.js"></script>

    <script src="CustomPlacemark.js"></script>
    <script src="javascripts/createNewTree.js"></script>
    <script src="javascripts/info.js"></script>
    <script src="javascripts/statistic.js"></script>

</body>

</html>